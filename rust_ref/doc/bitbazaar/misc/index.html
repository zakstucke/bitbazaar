<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Completely miscellaneous utilities"><title>bitbazaar::misc - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="bitbazaar" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.1 (3f5fd8dd4 2024-08-06)" data-channel="1.80.1" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../bitbazaar/index.html">bitbazaar</a><span class="version">0.7.2</span></h2></div><h2 class="location"><a href="#">Module misc</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate bitbazaar</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">bitbazaar</a>::<wbr><a class="mod" href="#">misc</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/bitbazaar/misc/mod.rs.html#1-41">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Completely miscellaneous utilities</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="bytes/index.html" title="mod bitbazaar::misc::bytes">bytes</a></div><div class="desc docblock-short">Byte manipulation utilities, e.g. transfer speed.</div></li><li><div class="item-name"><a class="mod" href="platform/index.html" title="mod bitbazaar::misc::platform">platform</a></div><div class="desc docblock-short">Platform utilities, e.g. OS type, cpu arch, in_ci.</div></li></ul><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.retry_flexi.html" title="macro bitbazaar::misc::retry_flexi">retry_flexi</a></div><div class="desc docblock-short">Internal version of <a href="struct.Retry.html#method.call" title="method bitbazaar::misc::Retry::call"><code>Retry::call</code></a> that:</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.FlexiLogBridge.html" title="struct bitbazaar::misc::FlexiLogBridge">FlexiLogBridge</a></div><div class="desc docblock-short">Flexi logging bridge to wrap arbitrary flexi logging implementers, doesn’t require any generics.</div></li><li><div class="item-name"><a class="struct" href="struct.FlexiLogBridgeWriter.html" title="struct bitbazaar::misc::FlexiLogBridgeWriter">FlexiLogBridgeWriter</a></div><div class="desc docblock-short">Flexi logging bridge writer, doesn’t require any generics.</div></li><li><div class="item-name"><a class="struct" href="struct.LocalPeriodicUpdater.html" title="struct bitbazaar::misc::LocalPeriodicUpdater">LocalPeriodicUpdater</a></div><div class="desc docblock-short">A periodic updater. Run a callback at a specified time interval. Synchronous. Requires polling.
Useful in long running loops to do something at a specified time interval. <a href="struct.PeriodicUpdater.html#method.maybe_update" title="method bitbazaar::misc::PeriodicUpdater::maybe_update"><code>PeriodicUpdater::maybe_update</code></a> should be called during each loop.</div></li><li><div class="item-name"><a class="struct" href="struct.Looper.html" title="struct bitbazaar::misc::Looper">Looper</a></div><div class="desc docblock-short">Standardizes pattern for internalised loop that allows mutable callbacks and persistent state.
The state is data that’s persisted between iterations, and eventually passed out, this should be customisable by the caller.</div></li><li><div class="item-name"><a class="struct" href="struct.PeriodicUpdater.html" title="struct bitbazaar::misc::PeriodicUpdater">PeriodicUpdater</a></div><div class="desc docblock-short">A periodic updater. Run a callback at a specified time interval. Synchronous. Requires polling.
Useful in long running loops to do something at a specified time interval. <a href="struct.PeriodicUpdater.html#method.maybe_update" title="method bitbazaar::misc::PeriodicUpdater::maybe_update"><code>PeriodicUpdater::maybe_update</code></a> should be called during each loop.</div></li><li><div class="item-name"><a class="struct" href="struct.PeriodicUpdaterState.html" title="struct bitbazaar::misc::PeriodicUpdaterState">PeriodicUpdaterState</a></div><div class="desc docblock-short">State passed into the callback of <a href="struct.PeriodicUpdater.html" title="struct bitbazaar::misc::PeriodicUpdater"><code>PeriodicUpdater</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.Refreshable.html" title="struct bitbazaar::misc::Refreshable">Refreshable</a></div><div class="desc docblock-short">A data wrapper that automatically updates the data given out when deemed stale.
The data is set to refresh at a certain interval (triggered on access), or can be forcefully refreshed.</div></li><li><div class="item-name"><a class="struct" href="struct.RefreshableGuard.html" title="struct bitbazaar::misc::RefreshableGuard">RefreshableGuard</a></div><div class="desc docblock-short">A temporary storage of the pointer.</div></li><li><div class="item-name"><a class="struct" href="struct.Retry.html" title="struct bitbazaar::misc::Retry">Retry</a></div><div class="desc docblock-short">The retry builder.</div></li><li><div class="item-name"><a class="struct" href="struct.RetryInfo.html" title="struct bitbazaar::misc::RetryInfo">RetryInfo</a></div><div class="desc docblock-short">Information about the last retry attempt.</div></li><li><div class="item-name"><a class="struct" href="struct.TarballFile.html" title="struct bitbazaar::misc::TarballFile">TarballFile</a></div><div class="desc docblock-short">A decompressed file from a tarball wrapped in a simpler interface.
Implements <a href="https://doc.rust-lang.org/1.80.1/std/io/trait.Read.html" title="trait std::io::Read"><code>std::io::Read</code></a> for easy lazy reading.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Backoff.html" title="enum bitbazaar::misc::Backoff">Backoff</a></div><div class="desc docblock-short">UNSTABLE: ONLY PUBLIC FOR MACRO USE.</div></li><li><div class="item-name"><a class="enum" href="enum.FlexiLogPhase.html" title="enum bitbazaar::misc::FlexiLogPhase">FlexiLogPhase</a></div><div class="desc docblock-short">Useful for phase tracking, depending on the logger.</div></li><li><div class="item-name"><a class="enum" href="enum.RetryUntil.html" title="enum bitbazaar::misc::RetryUntil">RetryUntil</a></div><div class="desc docblock-short">UNSTABLE: ONLY PUBLIC FOR MACRO USE.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.BinarySearchable.html" title="trait bitbazaar::misc::BinarySearchable">BinarySearchable</a></div><div class="desc docblock-short">A trait allowing arbitrary types to be binary searchable.</div></li><li><div class="item-name"><a class="trait" href="trait.FlexiLog.html" title="trait bitbazaar::misc::FlexiLog">FlexiLog</a></div><div class="desc docblock-short">An interface that can be used to track arbitrary logging “flows”.</div></li><li><div class="item-name"><a class="trait" href="trait.FlexiLogFromRedis.html" title="trait bitbazaar::misc::FlexiLogFromRedis">FlexiLogFromRedis</a></div><div class="desc docblock-short">Lots of loggers are backed by redis.
A higher-order trait to produce a logger once redis is available.</div></li><li><div class="item-name"><a class="trait" href="trait.FlexiLogWriter.html" title="trait bitbazaar::misc::FlexiLogWriter">FlexiLogWriter</a></div><div class="desc docblock-short">The actual object used to apply logs.
This is useful when updates are async, making synchronous batching easy.</div></li><li><div class="item-name"><a class="trait" href="trait.SerdeMigratable.html" title="trait bitbazaar::misc::SerdeMigratable">SerdeMigratable</a></div><div class="desc docblock-short">A trait to help with migrating data structures when they change.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.binary_search_exact.html" title="fn bitbazaar::misc::binary_search_exact">binary_search_exact</a></div><div class="desc docblock-short">Binary search for the desired item in the array.
Returns None when not exactly found.</div></li><li><div class="item-name"><a class="fn" href="fn.binary_search_exact_with_siblings.html" title="fn bitbazaar::misc::binary_search_exact_with_siblings">binary_search_exact_with_siblings</a></div><div class="desc docblock-short">Binary search for the desired item in the array, but also passes the prior and next items into the comparison function, if they exist.
Returns None when not exactly found.</div></li><li><div class="item-name"><a class="fn" href="fn.binary_search_soft.html" title="fn bitbazaar::misc::binary_search_soft">binary_search_soft</a></div><div class="desc docblock-short">Binary search for the desired item in the array.
Only returns None when the array is empty.</div></li><li><div class="item-name"><a class="fn" href="fn.global_lock_host_async.html" title="fn bitbazaar::misc::global_lock_host_async">global_lock_host_async</a></div><div class="desc docblock-short">APPLIES TO ALL PROCESSES ON HOST MACHINE.
If only needing for the current process, use <a href="fn.global_lock_process_async.html" title="fn bitbazaar::misc::global_lock_process_async"><code>global_lock_process_async</code></a> instead.</div></li><li><div class="item-name"><a class="fn" href="fn.global_lock_host_sync.html" title="fn bitbazaar::misc::global_lock_host_sync">global_lock_host_sync</a></div><div class="desc docblock-short">APPLIES TO ALL PROCESSES ON HOST MACHINE.
If only needing for the current process, use <a href="fn.global_lock_process_sync.html" title="fn bitbazaar::misc::global_lock_process_sync"><code>global_lock_process_sync</code></a> instead.</div></li><li><div class="item-name"><a class="fn" href="fn.global_lock_process_async.html" title="fn bitbazaar::misc::global_lock_process_async">global_lock_process_async</a></div><div class="desc docblock-short">APPLIES TO ONLY THE CURRENT PROCESS.
If wanting to apply to all processes on the host machine, use [<code>global_lock_host</code>] instead.</div></li><li><div class="item-name"><a class="fn" href="fn.global_lock_process_sync.html" title="fn bitbazaar::misc::global_lock_process_sync">global_lock_process_sync</a></div><div class="desc docblock-short">APPLIES TO ONLY THE CURRENT PROCESS.
If wanting to apply to all processes on the host machine, use [<code>global_lock_host</code>] instead.</div></li><li><div class="item-name"><a class="fn" href="fn.is_tcp_port_listening.html" title="fn bitbazaar::misc::is_tcp_port_listening">is_tcp_port_listening</a></div><div class="desc docblock-short">Check if a port is listening for a given ipv4 address and port.</div></li><li><div class="item-name"><a class="fn" href="fn.main_wrapper.html" title="fn bitbazaar::misc::main_wrapper">main_wrapper</a></div><div class="desc docblock-short">Wrap your main function in this to auto handle common program needs.</div></li><li><div class="item-name"><a class="fn" href="fn.random_bytes_insecure_speedy.html" title="fn bitbazaar::misc::random_bytes_insecure_speedy">random_bytes_insecure_speedy</a></div><div class="desc docblock-short">Generate random bytes using the system’s random number generator.
Insecure, but very fast, useful for testing random binary data.</div></li><li><div class="item-name"><a class="fn" href="fn.random_u64_rolling.html" title="fn bitbazaar::misc::random_u64_rolling">random_u64_rolling</a></div><div class="desc docblock-short">Fastest possible unique u64. Just increments an atomic, making sure to roll at max.</div></li><li><div class="item-name"><a class="fn" href="fn.setup_once.html" title="fn bitbazaar::misc::setup_once">setup_once</a></div><div class="desc docblock-short">Not available on wasm, requires global_lock_host_async which is filesystem based.
Setup something once for a given version on the current host.
E.g. installing a package, downloading a file, etc.</div></li><li><div class="item-name"><a class="fn" href="fn.setup_once_clear.html" title="fn bitbazaar::misc::setup_once_clear">setup_once_clear</a></div><div class="desc docblock-short">Clear all data for a given id.</div></li><li><div class="item-name"><a class="fn" href="fn.setup_once_storage_path.html" title="fn bitbazaar::misc::setup_once_storage_path">setup_once_storage_path</a></div><div class="desc docblock-short">Get the outer path all data is stored in.</div></li><li><div class="item-name"><a class="fn" href="fn.sleep_compat.html" title="fn bitbazaar::misc::sleep_compat">sleep_compat</a></div><div class="desc docblock-short">Sleep for a duration, compatible with both WASM and native targets.</div></li><li><div class="item-name"><a class="fn" href="fn.tarball_compress.html" title="fn bitbazaar::misc::tarball_compress">tarball_compress</a></div><div class="desc docblock-short">Compress a tarball (.tar.gz).</div></li><li><div class="item-name"><a class="fn" href="fn.tarball_decompress.html" title="fn bitbazaar::misc::tarball_decompress">tarball_decompress</a></div><div class="desc docblock-short">Decompress a tarball (.tar.gz).</div></li><li><div class="item-name"><a class="fn" href="fn.with_timeout.html" title="fn bitbazaar::misc::with_timeout">with_timeout</a></div><div class="desc docblock-short">Run the future with the given timeout,
returning the result of the closure and cancelling the future if it takes too long.</div></li></ul></section></div></main></body></html>